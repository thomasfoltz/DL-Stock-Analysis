#importing all necessary packages
import pandas as pd
import requests

#downloading all NASDAQ traded symbols
data = pd.read_csv("http://www.nasdaqtrader.com/dynamic/SymDir/nasdaqtraded.txt", sep='|')
csv_file = open('NASDAQ_data.csv', 'wb')
data_clean = data[data['Test Issue'] == 'N']
symbols = data_clean['NASDAQ Symbol'].tolist()
print('total number of symbols traded = {}'.format(len(symbols)))

#saving the data to a csv file
req = requests.get("http://www.nasdaqtrader.com/dynamic/SymDir/nasdaqtraded.txt")
url_content = req.content
csv_file = open('NASDAQ_data.csv', 'wb')
csv_file.write(url_content)
csv_file.close()